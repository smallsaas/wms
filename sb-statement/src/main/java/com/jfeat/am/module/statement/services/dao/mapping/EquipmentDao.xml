<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jfeat.am.module.statement.services.dao.EquipmentDao">

    <!--模糊查询设备信息-->

    <select id="queryEquipmentCountByStatus" resultType="map">
        select count(${columnName}) as total,
        <foreach collection="columnContents" index="index" item="columnContent" open="" separator="," close="">
            sum( case when ${columnName}= #{columnContent} then 1 else 0 end) as ${columnContent}
        </foreach>
        from ${tableName};
    </select>

</mapper>
